---
import GameLayerLogo from '../images/gamelayer_logo_sm.png'
import { EXTERNAL_URLS } from '../lib/external'
---

<header>
    <nav class="navbar grid container">
        <div class="nav-logo">
            <a href="/" aria-label="GameLayer - Gamification API Platform">
                <img src={GameLayerLogo.src} alt="GameLayer - Gamification API platform for user engagement and customer loyalty" width="150">
            </a>
        </div>
        <div class="nav-links">
            <ul class="flex-center">
                <li><a href="#" onclick="window.location.href='https://gamelayer.io/#features'; return false;" aria-label="Gamification features and mechanics">Features</a></li>
                <li><a href="#" onclick="window.location.href='https://gamelayer.io/#solutions'; return false;" aria-label="Customer success stories and case studies">References</a></li>
                <li><a href="#" onclick="window.location.href='https://gamelayer.io/#pricing'; return false;" aria-label="Gamification platform pricing plans">Pricing</a></li>
                <li><a href="/blog" aria-label="Gamification insights and strategies">Insights</a></li>
                <li><a href="https://gl-assets.vercel.app/" target="_blank" rel="noopener noreferrer" aria-label="GameLayer demo">Demo</a></li>
                <li><a href="/api-docs" aria-label="GameLayer API documentation">API</a></li>
            </ul>
        </div>
        <div class="nav-cta flex-center gap-2">
            <a href={EXTERNAL_URLS.CMS_DASHBOARD} target="_blank" rel="noopener noreferrer external" class="button button-primary free-version-btn" aria-label="Open GameLayer dashboard (external)">Sign Up Free</a>
        </div>
        <div class="mobile-menu">
            <ul>
                <li><a href="#" onclick="window.location.href='https://gamelayer.io/#features'; return false;" aria-label="Gamification features and mechanics">Features</a></li>
                <li><a href="#" onclick="window.location.href='https://gamelayer.io/#solutions'; return false;" aria-label="Customer success stories and case studies">References</a></li>
                <li><a href="#" onclick="window.location.href='https://gamelayer.io/#pricing'; return false;" aria-label="Gamification platform pricing plans">Pricing</a></li>
                <li><a href="/blog" aria-label="Gamification insights and strategies">Insights</a></li>
                <li><a href="https://gl-assets.vercel.app/" target="_blank" rel="noopener noreferrer" aria-label="GameLayer demo">Demo</a></li>
                <li><a href="/api-docs" aria-label="GameLayer API documentation">API</a></li>
                <li><a href={EXTERNAL_URLS.CMS_DASHBOARD} target="_blank" rel="noopener noreferrer external" class="button button-primary free-version-btn" aria-label="Open GameLayer dashboard (external)">Sign Up Free</a></li>
            </ul>
        </div>
        <div class="menu-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
              <path fill-rule="evenodd" d="M3 9a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75A.75.75 0 0 1 3 9Zm0 6.75a.75.75 0 0 1 .75-.75h16.5a.75.75 0 0 1 0 1.5H3.75a.75.75 0 0 1-.75-.75Z" clip-rule="evenodd" />
            </svg>                  
        </div>
    </nav>
</header>


<script>

    const menu = document.querySelector('.menu-icon') as any

    menu.addEventListener('click', () => {
        document.querySelectorAll('.mobile-menu').forEach(item => {
            item.classList.toggle('open')
        })
    })

</script>

<style lang="scss"> 

header{
    border-bottom: 1px solid rgba(0, 0, 0, 0.08);
}

.navbar{
    grid-template-columns: repeat(3, 1fr);
    align-items: center;
    padding: 20px 0;
    min-height: 80px;
    position: relative;
    
    // Unified vertical alignment for all sections
    > div {
        display: flex;
        align-items: center;
        height: 100%;
    }
    
    .nav-logo{
        justify-content: flex-start;
        a{
            display: flex;
            align-items: center;
            margin: 0;
            padding: 0;
            transform: translateY(-6px);
        }
        img{
            width: 162px;
            height: auto;
            object-fit: contain;
            object-position: left center;
            display: block;
            margin: 0;
            padding: 0;
        }
    }
    
    .nav-links{
        justify-content: center;
        ul{
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0;
            padding: 0;
            list-style: none;
            height: 100%;
        }
    }
    
    .nav-cta{
        justify-content: flex-end;
        
        .free-version-btn {
            transition: all 0.3s ease;
            
            &:hover {
                transform: translateY(-2px) scale(1.05);
                box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
            }
        }
    }
    
    ul{
        list-style: none;
        margin: 0;
        padding: 0;
        li{
            padding: 0 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
        }
    }

    a:not(.button){
        text-decoration: none;
        color: inherit;
        font-weight: normal;
        font-size: 1.7rem;
        line-height: 1.7rem;
        display: flex;
        align-items: center;
        justify-content: center;
        white-space: nowrap;
        &:hover{
            opacity: .8;
        }
    }

    // Tablet landscape (1024px and below)
    @media (max-width: 1024px) {
        .nav-logo img{
            width: 144px;
        }
        a:not(.button){
            font-size: 1.5rem;
            line-height: 1.5rem;
        }
        ul li{
            padding: 0 15px;
        }
    }

    // Tablet portrait (768px and below)
    @media (max-width: 768px) {
        .nav-logo img{
            width: 126px;
        }
        a:not(.button){
            font-size: 1.3rem;
            line-height: 1.3rem;
        }
        ul li{
            padding: 0 12px;
        }
    }

    // Mobile landscape (640px and below)
    @media (max-width: 640px) {
        grid-template-columns: 1fr auto;
        .nav-logo img{
            width: 108px;
        }
        .nav-links, .nav-cta{
            display: none;
        }
        a:not(.button){
            font-size: 1.2rem;
            line-height: 1.2rem;
        }
        .menu-icon{
            display: flex;
            align-items: center;
            justify-content: center;
            svg{
                width: 32px;
            }
            /* Larger tap target */
            padding: 8px;
            border-radius: 8px;
        }
        .mobile-menu{
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 20px;
            min-width: 200px;
            z-index: 1000;
            ul{
                list-style: none;
                padding: 0;
                margin: 0;
            }
            li{
                margin-bottom: 15px;
                text-align: center;
                &:last-child{
                    margin-bottom: 0;
                }
            }
            a{
                display: block;
                text-decoration: none;
                color: var(--as-black);
                font-weight: normal;
                font-size: 1.7rem;
                padding: 8px 0;
                border-bottom: 1px solid #f0f0f0;
                &:hover{
                    opacity: 0.8;
                }
            }
            .free-version-btn {
                background: var(--as-accent) !important;
                border: none !important;
                border-radius: 20px !important;
                height: auto !important;
                line-height: normal !important;
                padding: 12px 20px !important;
                font-size: 1.4rem !important;
                font-weight: 600 !important;
                box-shadow: none !important;
                color: white !important;
                margin: 8px 0 !important;
                transition: all 0.3s ease !important;
                &:hover{
                    background: #1D4ED8 !important;
                    opacity: 1 !important;
                    transform: translateY(-2px) scale(1.05) !important;
                    box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3) !important;
                }
            }
            &.open{
                display: block;
            }
        }
    }

    // Mobile portrait (480px and below)
    @media (max-width: 480px) {
        grid-template-columns: 1fr auto;
        padding-top: 15px;
        min-height: 70px;
        .nav-logo img{
            width: 99px;
        }
        .flex-center{
            flex-direction: column;
        }
        a{
            display: block;
            text-align: center;
            font-size: 1.1rem;
        }
        .menu-icon{
            display: flex;
            align-items: center;
            justify-content: center;
            svg{
                width: 32px;
            }
        }

        .mobile-menu{
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            padding: 20px;
            min-width: 200px;
            z-index: 1000;
            ul{
                list-style: none;
                padding: 0;
                margin: 0;
            }
            li{
                margin-bottom: 15px;
                text-align: center;
                &:last-child{
                    margin-bottom: 0;
                }
            }
            a{
                display: block;
                text-decoration: none;
                color: var(--as-black);
                font-weight: normal;
                font-size: 1.7rem;
                padding: 8px 0;
                border-bottom: 1px solid #f0f0f0;
                &:hover{
                    opacity: 0.8;
                }
            }
            .free-version-btn {
                background: var(--as-accent) !important;
                border: none !important;
                border-radius: 20px !important;
                height: auto !important;
                line-height: normal !important;
                padding: 12px 20px !important;
                font-size: 1.4rem !important;
                font-weight: 600 !important;
                box-shadow: none !important;
                color: white !important;
                margin: 8px 0 !important;
                transition: all 0.3s ease !important;
                &:hover{
                    background: #1D4ED8 !important;
                    opacity: 1 !important;
                    transform: translateY(-2px) scale(1.05) !important;
                    box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3) !important;
                }
            }
            &.open{
                display: block;
            }
        }
        .nav-cta{
            border-bottom: var(--as-white) 1px solid;
            padding-bottom: 10px;
        }
    }

    // Very small mobile (360px and below)
    @media (max-width: 360px) {
        .nav-logo img{
            width: 90px;
        }
        .menu-icon{
            display: flex;
            align-items: center;
            justify-content: center;
            svg{
                width: 28px;
            }
        }
        a:not(.button){
            font-size: 1rem;
        }
    }

    // Hide menu icon and mobile menu on larger screens
    @media (min-width: 641px) {
        .menu-icon{
            display: none;
        }
        .mobile-menu{
            display: none !important;
        }
    }
}

</style>