---
import utils from '../utils'

import Api from '../images/icons/api.svg'
import Dashboard from '../images/icons/dashboard.svg'
import RulesManager from '../images/icons/rules_manager.svg'
import Missions from '../images/icons/missions.svg'
import Streaks from '../images/icons/streaks.svg'
import Achievements from '../images/icons/achievements.svg'
import LevelUps from '../images/icons/level-ups.svg'
import Leaderboards from '../images/icons/leaderboards.svg'
import MysteryWins from '../images/icons/mysterywins.svg'
import Prizes from '../images/icons/prizes.svg'
import Raffles from '../images/icons/raffles.svg'
import Quizzes from '../images/icons/quizzes.svg'
import VirtualCurrencies from '../images/icons/virtual_currencies.svg'

// Pre-compute icon mapping for better performance
const iconMap = {
    'Open API': Api,
    'Content Dashboard': Dashboard,
    'Rules Manager': RulesManager,
    'Missions': Missions,
    'Streaks': Streaks,
    'Achievements': Achievements,
    'Level-Ups': LevelUps,
    'Leaderboards': Leaderboards,
    'Mystery Wins': MysteryWins,
    'Prizes': Prizes,
    'Raffles': Raffles,
    'Quizzes': Quizzes,
    'Virtual Currencies': VirtualCurrencies
} as const;

const features = utils.features.map((item) => ({
    ...item,
    img: iconMap[item.title as keyof typeof iconMap] || Api
}))

const mechanics = utils.mechanics.map((item) => ({
    ...item,
    img: iconMap[item.title as keyof typeof iconMap] || Api
}))

---



<section id="features">
    <div class="container">
        <div class="max-w-lg m-auto text-center">
            <h2 class="text-lg">Add some <span class="sticky-word">sticky</span> to your digital services with gamification mechanics that plug seamlessly into your existing tech stack</h2>
        </div>

        <div class="features-container mt-4">
            <div class="list grid gap-3 first-row">
                {features.map((item) => (
                    <div class="list-item">
                        <div class="list-item-icon">
                            <img src={item.img.src} alt={item.title} loading="lazy" />
                        </div>
                        <div class="list-item-text">
                            <h3 class="text-sm text-bolder mt-2">{item.title}</h3>
                            <p class="text-xs">{item.desc}</p>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    </div>
</section>

<section id="mechanics">
    <div class="container">
        <div class="mechanics-container">
            <div class="mechanics-grid">
                {mechanics.map((item) => (
                    <div class="mechanic-card">
                        <div class="mechanic-icon">
                            <img src={item.img.src} alt={item.title} loading="lazy" />
                        </div>
                        <div class="mechanic-content">
                            <h3 class="text-sm text-bolder mt-2">{item.title}</h3>
                            <p class="text-xs">{item.desc}</p>
                        </div>
                    </div>
                ))}
            </div>
        </div>
    </div>
</section>



<style lang="scss"> 

#features{
    background-color: var(--as-peach);
    padding: 70px 0 0 0;
    
    // Tablet landscape (1024px and below)
    @media (max-width: 1024px) {
        padding: 60px 0 0 0;
    }
    
    // Tablet portrait (768px and below)
    @media (max-width: 768px) {
        padding: 50px 0 0 0;
    }
    
    // Mobile landscape (640px and below)
    @media (max-width: 640px) {
        padding: 40px 0 0 0;
    }
    
    // Mobile portrait (480px and below)
    @media (max-width: 480px) {
        padding: 30px 0 0 0;
    }
    
    h1, h3{
        color: var(--as-black);
        margin: 10px 0;
    }
    
    .sticky-word {
        font-family: 'Georgia', 'Times New Roman', serif;
        font-weight: 900;
        font-style: italic;
        font-size: 1.3em;
        color: #FF6B35;
        background: linear-gradient(135deg, #FF6B35 0%, #F7931E 50%, #FFD23F 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-shadow: 2px 2px 4px rgba(255, 107, 53, 0.3);
        letter-spacing: 0.05em;
        text-transform: uppercase;
        display: inline-block;
        transform: rotate(-2deg);
        padding: 0 4px;
        position: relative;
        
        &::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #FF6B35, #F7931E, #FFD23F);
            border-radius: 2px;
            opacity: 0.6;
        }
    }
    .features-container{
        .first-row{
            grid-template-columns: repeat(3, 1fr);
            margin-bottom: 40px;
        }
    }
    
    .list{
        p{
            color: var(--as-black);
            max-width: 80%;
        }
        img{
            width: 24px;
        }
    }

    // Tablet landscape (1024px and below)
    @media (max-width: 1024px) {
        .features-container{
            .first-row{
                grid-template-columns: repeat(2, 1fr);
                gap: 2rem;
            }
        }
        .list img{
            width: 22px;
        }
    }

    // Tablet portrait (768px and below)
    @media (max-width: 768px) {
        .features-container{
            .first-row{
                grid-template-columns: repeat(2, 1fr);
                gap: 1.5rem;
                margin-bottom: 30px;
            }
        }
        .list{
            .list-item-text h3{
                font-size: 1.6rem;
            }
            p{
                max-width: 90%;
                font-size: 1.0rem;
            }
            img{
                width: 20px;
            }
        }
        .first-row{
            .list-item-text p{
                font-size: 1.15rem;
            }
        }
    }

    // Mobile landscape (640px and below)
    @media (max-width: 640px) {
        .features-container{
            .first-row{
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                margin-bottom: 25px;
            }
            .first-row{
                .list-item-text p{
                    font-size: 1.3rem;
                }
            }
        }
        .list{
            .list-item-icon img{
                width: 28px;
            }
            .list-item-text h3{
                font-size: 1.5rem;
            }
            p{
                font-size: 0.95rem;
            }
        }
    }

    // Mobile portrait (480px and below)
    @media (max-width: 480px) {
        padding: 60px 0;
        .features-container{
            .first-row{
                grid-template-columns: 1fr;
                gap: 1rem;
                margin-bottom: 20px;
            }
            .first-row{
                .list-item-text p{
                    font-size: 1.2rem;
                }
            }
        }
        .list{
            text-align: center;
            .list-item{
                margin-bottom: 25px;
            }
            .list-item-text h3{
                font-size: 1.4rem;
            }
            p{
                margin: auto;
                font-size: 0.9rem;
                max-width: 95%;
            }
            img{
                width: 20px;
            }
        }
    }
}

#mechanics{
    background-color: var(--as-peach);
    padding: 0 0 70px 0;
    
    // Tablet landscape (1024px and below)
    @media (max-width: 1024px) {
        padding: 0 0 60px 0;
    }
    
    // Tablet portrait (768px and below)
    @media (max-width: 768px) {
        padding: 0 0 50px 0;
    }
    
    // Mobile landscape (640px and below)
    @media (max-width: 640px) {
        padding: 0 0 40px 0;
    }
    
    // Mobile portrait (480px and below)
    @media (max-width: 480px) {
        padding: 0 0 30px 0;
    }
    
    h1, h2, h3{
        color: var(--as-black);
        margin: 10px 0;
    }
    
    .mechanics-container{
        .mechanics-grid{
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 1.5rem;
            
            .mechanic-card{
                background-color: #fff;
                border-radius: 8px;
                padding: 1.5rem;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
                transition: transform 0.2s ease, box-shadow 0.2s ease, border 0.2s ease;
                border: 2px solid transparent;
                position: relative;
                
                &:hover{
                    transform: translateY(-2px) rotate(-1deg);
                    box-shadow: 0 4px 20px rgba(255, 107, 53, 0.4),
                                0 0 0 2px rgba(255, 107, 53, 0.2);
                    border: 2px solid transparent;
                    background: linear-gradient(#fff, #fff) padding-box,
                                linear-gradient(135deg, #FF6B35 0%, #F7931E 50%, #FFD23F 100%) border-box;
                }
                
                .mechanic-icon{
                    margin-bottom: 1rem;
                    
                    img{
                        width: 24px;
                        height: 24px;
                    }
                }
                
                .mechanic-content{
                    h3{
                        color: var(--as-black);
                        margin: 0 0 0.5rem 0;
                        font-size: 1.75rem;
                    }
                    
                    p{
                        color: var(--as-black);
                        margin: 0;
                        font-size: 1.5rem;
                        line-height: 1.4;
                    }
                }
            }
        }
    }
    
    // Tablet landscape (1024px and below)
    @media (max-width: 1024px) {
        .mechanics-container{
            .mechanics-grid{
                grid-template-columns: repeat(3, 1fr);
                gap: 1.5rem;
            }
        }
    }
    
    // Tablet portrait (768px and below)
    @media (max-width: 768px) {
        .mechanics-container{
            .mechanics-grid{
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                
                .mechanic-card{
                    padding: 1.25rem;
                    
                    .mechanic-content{
                        h3{
                            font-size: 1.7rem;
                        }
                        p{
                            font-size: 1.6rem;
                        }
                    }
                }
            }
        }
    }
    
    // Mobile landscape (640px and below)
    @media (max-width: 640px) {
        .mechanics-container{
            .mechanics-grid{
                grid-template-columns: repeat(2, 1fr);
                gap: 1rem;
                
                .mechanic-card{
                    padding: 1rem;
                    
                    .mechanic-icon img{
                        width: 20px;
                        height: 20px;
                    }
                    
                    .mechanic-content{
                        h3{
                            font-size: 1.6rem;
                        }
                        p{
                            font-size: 1.5rem;
                        }
                    }
                }
            }
        }
    }
    
    // Mobile portrait (480px and below)
    @media (max-width: 480px) {
        .mechanics-container{
            .mechanics-grid{
                grid-template-columns: 1fr;
                gap: 1rem;
                
                .mechanic-card{
                    padding: 1.25rem;
                    text-align: center;
                    
                    .mechanic-icon{
                        display: flex;
                        justify-content: center;
                        margin-bottom: 1rem;
                        
                        img{
                            width: 24px;
                            height: 24px;
                        }
                    }
                    
                    .mechanic-content{
                        h3{
                            font-size: 1.6rem;
                        }
                        p{
                            font-size: 1.5rem;
                        }
                    }
                }
            }
        }
    }
}
</style>